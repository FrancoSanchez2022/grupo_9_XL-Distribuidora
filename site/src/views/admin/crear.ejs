<!DOCTYPE html>
<html lang="en">
    
 <!-- Bootstrap -->
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

<%- include('../partials/head',{title:'XL - Crear'}) %>

    <body class="productCreate">
        <%- include('../partials/header') %>
            <main>

                <h1>Crear un nuevo producto</h1>

                <!-- Formulario -->
                <form action="" method="POST" enctype="multipart/form-data">

                    <!-- Contenedor de imagenes y Principales -->
                    <div class="container">
                        <div class="row justify-content-between align-items-center">

                            <!-- Principales -->
                    <div class="col col-lg-4 col-md-12 col-sm-12">
                        <div class="form-floating mb-3"> 
                            <input type="text" class="form-control" name="titulo" placeholder="Nombre del producto" id="titulo" value="<%= locals.old && old.titulo ? old.titulo : null%>" placeholder="name@example.com">
                            <label for="titulo">Nombre del producto</label>
                            <p class="span text-danger">
                            <small><%= locals.errors && errors.titulo ? errors.titulo.msg : null %> </small>
                            </p>
                        </div>
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" name="marca" placeholder="Marca del Producto" id="brand" value="<%= locals.old && old.marca ? old.marca : null%>">
                            <label class="form-label" for="brand">Marca del Producto</label>
                            <% if (locals.errors && errors.marca) { %>
                                <p class="span text-danger"><%= errors.marca.msg %></p>
                            <% } %>
                        </div>
                        <div class="form-floating mb-3">
                            <input class="form-control" type="number" name="precio" placeholder="Precio del producto" id="price" value="<%= locals.old && old.precio ? old.precio : null%>">
                            <label class="form-label" for="price">Precio del producto</label>
                            <p class="span text-danger">
                                <%= locals.errors && errors.precio ? errors.precio.msg : null %>
                            </p>
                        </div>
                        <div class="form-floating mb-3">
                            <input class="form-control" type="number" name="descuento" placeholder="Descuento del producto" id="discount" value="<%= locals.old && old.descuento ? old.descuento : 0%>">
                            <label class="form-label" for="discount">Descuento del producto</label>
                            <p class="span text-danger">
                                <%= locals.errors && errors.descuento ? errors.descuento.msg : null %>
                            </p>
                        </div>
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" name="stock" placeholder="Stock con el que cuenta el producto" id="stock" value="<%= locals.old && old.stock ? old.stock : null%>">
                            <label class="form-label" for="stock">Stock con el que cuenta el producto</label>
                            <p class="span text-danger">
                                <%= locals.errors && errors.stock ? errors.stock.msg : null %>
                            </p>
                        </div>
                    </div>

                            <!-- Imagenes -->
                            <div class="col col-lg-7 col-md-12 col-sm-12">
                                <section class="img-product">

                                    <div class="container">
                                        <div class="row">

                                            <!-- Imagen 1 -->
                                            <div class="col col-5">
                                                <label class="selectImg" for="product-img">
                                                    <img id="img-preview"
                                                        class="img-fluid img-thumbnail imagen-height rounded"
                                                        src="/img/productos/default-image.png" alt="">
                                                    <div class="imgHover">
                                                        <p class="text-center">Selecionar Imagen 1</p>
                                                    </div>
                                                </label>
                                                <div class="form-admin__box inactivo">
                                                    <input class="d-none" id="product-img" type="file" name="imagen"
                                                        placeholder="Imagen del Producto"  multiple>
                                                </div>
                                            </div>

                                            <!-- Imagen 2 -->
                                            <div class="col col-5">
                                                <label class="selectImg" for="product-sub-img-1">
                                                    <img id="sub-img-preview-1"
                                                        class="img-fluid img-thumbnail  imagen-height rounded"
                                                        src="/img/productos/default-image.png" alt="">
                                                    <div class="imgHover">
                                                        <p class="text-center">Selecionar Imagen 2</p>
                                                    </div>
                                                </label>
                                                <div class="form_desciption__box inactivo">
                                                    <input class="d-none" id="product-sub-img-1" type="file"
                                                        name="imagen" placeholder="Imagen del Producto">
                                                </div>
                                            </div>

                                            <!-- Imagen 3 -->
                                            <div class="col col-5">
                                                <label class="selectImg" for="product-sub-img-2">
                                                    <img id="sub-img-preview-2"
                                                        class="img-fluid img-thumbnail imagen-height rounded"
                                                        src="/img/productos/default-image.png" height="auto" alt="">
                                                    <div class="imgHover">
                                                        <p class="text-center">Selecionar Imagen 3</p>
                                                    </div>
                                                </label>
                                                <div class="form_desciption__box inactivo">
                                                    <input class="d-none " id="product-sub-img-2" type="file"
                                                        name="imagen" placeholder="Imagen del Producto">
                                                </div>
                                            </div>

                                            <!-- Imagen 4 -->
                                            <div class="col col-5">
                                                <label class="selectImg" for="product-sub-img-3">
                                                    <img id="sub-img-preview-3"
                                                        class="img-fluid img-thumbnail imagen-height rounded"
                                                        src="/img/productos/default-image.png" alt="">
                                                    <div class="imgHover">
                                                        <p class="text-center">Selecionar Imagen 4</p>
                                                    </div>
                                                </label>
                                                <div class="form_desciption__box inactivo">
                                                    <input class="d-none" id="product-sub-img-3" type="file"
                                                        name="imagen" placeholder="Imagen del Producto">
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <p class="span text-danger">
                                    <%= locals.errors && errors.imagen ? errors.imagen.msg : null %>
                                </p>
                            </div>
                                </section>
                            </div>

                        </div>
                    </div>

                    <div class="container">
                        <div class="row">

                            <!-- Selects  -->
                            <div class="container m-3">
                                <div class="row justify-content-around align-items-center">
                                    <div class="col col-4">
                                        <h3 class="text-center">Categorias</h3>
                                        <select class="form-select" name="categoria" id="floatingSelect"
                                            aria-label="Floating label select example">
                                            <% if (locals.errors && old.categoria) { %>
                                                <option hidden value="">Selecciona una opcion</option>
                                                <option <%= old.categoria === "Perfumes" ? "selected" : null %>  value="Smartphones">Perfumes</option>
                                                <option <%= old.categoria === "Aromatizantes" ? "selected" : null %>   value="Tablets">Aromatizantes</option>
                                                <option <%= old.categoria === "Limpieza" ? "selected" : null %>   value="Notebooks">Limpieza</option>
                                                <option <%= old.categoria === "Limpieza bucal" ? "selected" : null %>   value="Notebooks">Limpieza bucal</option>
                                            <% }else{ %>
                                                <option selected hidden value="">Selecciona una opcion</option>
                                                <option value="Perfumes">Perfumes</option>
                                                <option value="Aromatizantes">Aromatizantes</option>
                                                <option value="Limpieza">Limpieza</option>
                                                <option value="Limpieza bucal">Limpieza Bucal</option>
                                            <% } %> 
                                          </select>
                                          <p class="span text-danger">
                                            <%= locals.errors && errors.categoria ? errors.categoria.msg : null %>
                                        </p>
                                    </div>

                                </div>
                            </div>
                            <div class="form-floating m-2">
                                <textarea class="form-control" name="Descripcion" placeholder="Por favor inserte la descripcion del producto"
                                    id="floatingTextarea"></textarea>
                                <label for="floatingTextarea">Descripción</label>
                                <small>Obligatorio</small>
                            </div>
            

                        </div>
                    </div>

                    <!-- Button -->
                    <div class="create-button text-center mt-5 pb-5">
                        <button class="btn btn-primary" type="submit">Crear producto</button>
                    </div>
                </form>

            </main>
            <%- include('../partials/footer') %>
    </body>

    <script src="/javascripts/images.js"></script>

</html>