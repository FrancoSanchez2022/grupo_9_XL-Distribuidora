<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="/css/bootstrap/css/bootstrap-theme.min.css">

  <!-- Theme style -->
  <link rel="stylesheet" href="/dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <%- include('../partials/head',{title:'XL - Admin'}) %>

</head>

<body class="userCreate hold-transition sidebar-mini layout-fixed">
  <div class="wrapper">

    <%- include('../partials/header') %>

      <%- include('../partials/aside') %>

        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
          <!-- Left navbar links -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
          </ul>
          <%- include('../partials/breadcrumbs',{ másSecciones:'<a href="/admin">Admin</a>',página: 'Añadir Usuario'})%>
        </nav>
        <!-- /.navbar -->

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
          <!-- Main content -->
          <section class="content">
            <main>
              <h1>Añadir Usuario Nuevo</h1>

              <section class="card">

                <form class="form-userCreate" action="/admin/addUser" method="POST" id="formulario"
                  enctype="multipart/form-data">
                  <div class="container img">
                    <label class="foto" for="avatar">Foto (opcional)</label>
                    <div id="preview" class="styleImage">
                    </div>
                    <label class="selectImg" for="user-img">
                      <img id="img-preview" src="/img/users/default-avatar.png" alt="">
                    </label>
                    <div class="labelinput">
                      <input id="user-img" type="file" name="avatar" id="avatar">
                    </div>
                    <small id="imagenContainer">
                      <%= locals.errors && errors.imagen ? errors.imagen.msg : null %>
                    </small>
                  </div>
                  <div class="container">
                    <label for="rol">Rol</label>
                    <select class="form-control" name="rol" id="rol">
                      <option value="" selected hidden>Selecciona una opción</option>
                      <option <%= (locals.old && old.rol)== 1 ? "selected" : null %> value="1">Admin</option>
                      <option <%= (locals.old && old.rol)!= 1 ? "selected" : null %> value="0">Usuario</option>
                    </select>
                    <small id="rolContainer">
                      <%= locals.errors && errors.rol ? errors.rol.msg : null %>
                    </small>
                  </div>
                  <div class="container">
                    <label for="name">Nombre</label>
                    <input type="text" name="name" id="name" placeholder="Ingresa tu nombre"
                      value="<%= locals.old && old.name ? old.name : null %>">
                    <small id="nameContainer">
                      <%= locals.errors && errors.name ? errors.name.msg : null %>
                    </small>
                  </div>

                  <div class="container">
                    <label for="lastname">Apellido</label>
                    <input type="text" name="lastname" id="lastname" placeholder="Ingresa tu apellido"
                      value="<%= locals.old && old.lastname ? old.lastname : null %>">
                    <small id="lastnameContainer">
                      <%= locals.errors && errors.lastname ? errors.lastname.msg : null %>
                    </small>
                  </div>

                  <div class="container">
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email" placeholder="Ingresa tu email"
                      value="<%= locals.old && old.email ? old.email : null %>">
                    <small id="emailContainer">
                      <%= locals.errors && errors.email ? errors.email.msg : null %>
                    </small>
                  </div>
                  <div class="container">
                    <label for="phone">Teléfono</label>
                    <input type="text" name="phonenumber" id="phone" placeholder="Ingresa tu teléfono"
                      value="<%= locals.old && old.phonenumber ? old.phonenumber : null %>">
                    <small id="phonenumberContainer">
                      <%= locals.errors && errors.phonenumber ? errors.phonenumber.msg : null %>
                    </small>
                  </div>
                  <div class="container">
                    <label for="pass">Clave</label>
                    <div class="password">
                      <input type="password" name="pass" id="pass" placeholder="Password">
                      <i class="fas fa-eye-slash" id="eye-pass"></i>
                    </div>
                    <small id="passContainer">
                      <%= locals.errors && errors.pass ? errors.pass.msg : null %>
                    </small>
                  </div>
                  <div class="container">
                    <label for="pass2">Repetir Clave</label>
                    <div class="password">
                      <input type="password" name="pass2" id="pass2" placeholder="Password">
                      <i class="fas fa-eye-slash" id="eye-pass2"></i>
                    </div>
                    <small id="passContainer2">
                      <%= locals.errors && errors.pass2 ? errors.pass2.msg : null %>
                    </small>
                  </div>
                  <div class="userCreate-button">
                    <button type="submit" class="enviar">Crear usuario</button>
                  </div>
                </form>
              </section>
            </main>
          </section>
          <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <!-- Footer  -->
        <%- include('../partials/footer') %>
  </div>
  <!-- ./wrapper -->

  <!-- Validaciones front -->
  <script src="/javascripts/users/userCreate.js"></script>
  <!-- Códigos de teléfonos -->
  <script src="/javascripts/users/phone.js"></script>
  <!-- ver password en tipo text -->
  <script src="/javascripts/users/eyePass.js"></script>
  <!-- Visualizar imagenes -->
  <script src="/javascripts/images.js"></script>

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- vista de carga -->
  <script src="/dist/js/adminlte.js"></script>
</body>

</html>